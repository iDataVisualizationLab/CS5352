<!-- Adapted from https://www.evl.uic.edu/aej/424/ -->

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
    <title>CS CS5331-004 Students</title>
    <link rel="stylesheet" type="text/css" href="css/students.css"/>
</head>
<body bgcolor="white" text="black">
<div id="main"></div>
<!--<script type="javascript" src="js/students.js"></script>-->
<script src="js/d3.v5.min.js"></script>
<script>
    window.addEventListener('load', function () {
        d3.json('data/students.json').then(function (data) {
            data = sortByFirstName(data);
            let container = d3.select('#main');
            let cards = container.selectAll('.card')
                .data(data)
                .enter()
                .append('div')
                .attr('class', 'card');

            cards.append('div')
                .attr('class', 'card-photo')
                .append('img')
                .attr('src', d => d.photo)
                .attr('height', '100px');

            let cardsInfo = cards.append('div')
                .attr('class', 'card-info');

            cardsInfo.append('span').attr('class', 'card-info-name').text((d, i) => (i + 1) + '. ' + d.full_name);
        });

        function sortByFirstName(arr) {
            for (let i = 0; i < arr.length; i++) {
                for (let j = i + 1; j < arr.length; j++) {
                    if (arr[i].first_name >= arr[j].first_name) {
                        let temp = arr[j];
                        arr[j] = arr[i];
                        arr[i] = temp;
                    }
                }
            }
            return arr;
        }
    })
</script>
</body>
</html>
